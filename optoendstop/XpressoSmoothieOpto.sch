EESchema Schematic File Version 2  date 6/1/2013 3:21:41 PM
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:fet_driver
LIBS:microsd-molex
LIBS:lm1117
LIBS:opendous
LIBS:pololu_a4988x
LIBS:RMC
LIBS:w_analog
LIBS:w_connectors
LIBS:w_device
LIBS:w_logic
LIBS:w_microcontrollers
LIBS:w_opto
LIBS:w_rtx
LIBS:XpressoSmoothieOpto-cache
EELAYER 27 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date "1 jun 2013"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L CONN_1 Hole1
U 1 1 5197EDF9
P 10650 5950
F 0 "Hole1" H 10730 5950 40  0000 L CNN
F 1 "CONN_1" H 10650 6005 30  0001 C CNN
F 2 "" H 10650 5950 60  0000 C CNN
F 3 "" H 10650 5950 60  0000 C CNN
	1    10650 5950
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 Hole2
U 1 1 5197EE17
P 10650 6050
F 0 "Hole2" H 10730 6050 40  0000 L CNN
F 1 "CONN_1" H 10650 6105 30  0001 C CNN
F 2 "" H 10650 6050 60  0000 C CNN
F 3 "" H 10650 6050 60  0000 C CNN
	1    10650 6050
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 Hole3
U 1 1 5197EE1D
P 10650 6150
F 0 "Hole3" H 10730 6150 40  0000 L CNN
F 1 "CONN_1" H 10650 6205 30  0001 C CNN
F 2 "" H 10650 6150 60  0000 C CNN
F 3 "" H 10650 6150 60  0000 C CNN
	1    10650 6150
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 Hole4
U 1 1 5197EE23
P 10650 6250
F 0 "Hole4" H 10730 6250 40  0000 L CNN
F 1 "CONN_1" H 10650 6305 30  0001 C CNN
F 2 "" H 10650 6250 60  0000 C CNN
F 3 "" H 10650 6250 60  0000 C CNN
	1    10650 6250
	1    0    0    -1  
$EndComp
NoConn ~ 10500 5950
NoConn ~ 10500 6050
NoConn ~ 10500 6150
NoConn ~ 10500 6250
$Comp
L HEADER_4 J1
U 1 1 51A99107
P 1150 2150
F 0 "J1" H 1200 2400 60  0000 C CNN
F 1 "HEADER_4" V 1300 2150 28  0001 C CNN
F 2 "" H 1150 2150 60  0001 C CNN
F 3 "" H 1150 2150 60  0001 C CNN
F 4 "endstop" V 1200 2150 39  0000 C CNN "Explanation"
	1    1150 2150
	-1   0    0    1   
$EndComp
Text GLabel 1500 2300 2    30   Input ~ 0
Signal1
$Comp
L +5V #PWR01
U 1 1 51A99118
P 1350 2100
F 0 "#PWR01" H 1350 2190 20  0001 C CNN
F 1 "+5V" H 1350 2190 30  0000 C CNN
F 2 "" H 1350 2100 60  0000 C CNN
F 3 "" H 1350 2100 60  0000 C CNN
	1    1350 2100
	-1   0    0    -1  
$EndComp
$Comp
L OPTO-TRANSISTOR4 U1
U 1 1 51A99755
P 3100 2700
F 0 "U1" H 3300 2950 60  0000 C CNN
F 1 "TCST1103/2103" H 3100 2450 39  0000 C CNN
F 2 "" H 3100 2700 60  0000 C CNN
F 3 "" H 3100 2700 60  0000 C CNN
	1    3100 2700
	1    0    0    -1  
$EndComp
$Comp
L R RL_diode1
U 1 1 51A99778
P 2450 2250
F 0 "RL_diode1" V 2530 2250 50  0000 C CNN
F 1 "68" V 2450 2250 50  0000 C CNN
F 2 "" H 2450 2250 60  0001 C CNN
F 3 "" H 2450 2250 60  0001 C CNN
	1    2450 2250
	-1   0    0    1   
$EndComp
$Comp
L R Rp_rcv1
U 1 1 51A99788
P 3700 2250
F 0 "Rp_rcv1" V 3780 2250 50  0000 C CNN
F 1 "1k5" V 3700 2250 50  0000 C CNN
F 2 "" H 3700 2250 60  0001 C CNN
F 3 "" H 3700 2250 60  0001 C CNN
	1    3700 2250
	1    0    0    -1  
$EndComp
Text Notes 7900 6650 0    39   ~ 0
3.3v values:\nTCST2103:	RL_diode:68R	Rp_rcv:1k5\nTCRT1000:	RL_diode:82R	Rp_rcv:10k\n\nOther optos and voltages:\nRL_diode=(VCC-VF)/IF\nRp_rcv=(VCC-VCEsat)/(IC(on)*50%)
Text GLabel 3800 2550 2    30   Input ~ 0
Signal1
$Comp
L MOS_N Q1
U 1 1 51A9CABC
P 4700 2750
F 0 "Q1" H 4710 2920 60  0000 R CNN
F 1 "MOS_N" H 4710 2600 60  0000 R CNN
F 2 "~" H 4700 2750 60  0000 C CNN
F 3 "~" H 4700 2750 60  0000 C CNN
	1    4700 2750
	1    0    0    -1  
$EndComp
Text GLabel 4450 2750 0    30   Input ~ 0
Signal1
$Comp
L R R1
U 1 1 51A9CCEC
P 5050 2250
F 0 "R1" V 5130 2250 50  0000 C CNN
F 1 "100" V 5050 2250 50  0000 C CNN
F 2 "" H 5050 2250 60  0001 C CNN
F 3 "" H 5050 2250 60  0001 C CNN
	1    5050 2250
	-1   0    0    1   
$EndComp
$Comp
L LED D1
U 1 1 51A9CD0F
P 5050 2750
F 0 "D1" H 5050 2850 50  0000 C CNN
F 1 "green" H 5050 2650 50  0000 C CNN
F 2 "" H 5050 2750 60  0001 C CNN
F 3 "" H 5050 2750 60  0001 C CNN
F 4 "indicator" H 5050 2900 39  0001 C CNN "Explanation"
	1    5050 2750
	0    1    1    0   
$EndComp
Text Notes 1100 1800 0    79   ~ 0
Connector
Text Notes 2900 1800 0    79   ~ 0
Opto
Text Notes 4500 1800 0    79   ~ 0
Indicator
$Comp
L LOGO_OSHW M1
U 1 1 519E49F1
P 10700 6800
F 0 "M1" H 10700 6950 60  0000 C CNN
F 1 "LOGO_OSHW" H 10700 6700 60  0000 C CNN
F 2 "OSHW_logo_large" H 10600 6850 60  0000 C CNN
F 3 "~" H 10700 6800 60  0000 C CNN
	1    10700 6800
	1    0    0    -1  
$EndComp
$Comp
L LOGO_OSHW M2
U 1 1 519E49E2
P 9850 6800
F 0 "M2" H 9850 6950 60  0000 C CNN
F 1 "LOGO_OSHW" H 9850 6700 60  0000 C CNN
F 2 "OSHW_logo_10" H 9750 6850 60  0000 C CNN
F 3 "~" H 9850 6800 60  0000 C CNN
	1    9850 6800
	1    0    0    -1  
$EndComp
Text Notes 9850 5650 0    79   ~ 0
Miscellaneous
Text Notes 550  800  0    197  ~ 0
Optoendstop board for XpressoSmoothie
Text Notes 600  1000 0    118  ~ 0
https://github.com/TopherMan/XpressoSmoothie
Text Notes 10300 800  0    197  ~ 0
GPL
Wire Wire Line
	2450 2550 2450 2500
Wire Wire Line
	3700 2500 3700 2550
Wire Wire Line
	2450 2850 2450 3000
Wire Wire Line
	3700 2550 3800 2550
Wire Wire Line
	4450 2750 4500 2750
Wire Wire Line
	4800 2550 5050 2550
Wire Wire Line
	5050 2550 5050 2500
Connection ~ 5050 2550
Wire Notes Line
	450  1100 11300 1100
Wire Wire Line
	1250 2200 1500 2200
Connection ~ 2450 2000
Connection ~ 3700 2000
Connection ~ 1350 2100
Wire Wire Line
	2150 2000 5050 2000
Wire Wire Line
	1500 2300 1250 2300
Wire Wire Line
	1350 2100 1250 2100
Text GLabel 1500 2000 2    30   Input ~ 0
3V3_1
Text GLabel 1500 2200 2    30   Input ~ 0
GND_1
Wire Wire Line
	1250 2000 1500 2000
Text GLabel 2150 2000 0    30   Input ~ 0
3V3_1
$Comp
L PWR_FLAG #FLG02
U 1 1 51AA03C1
P 2150 2100
F 0 "#FLG02" H 2150 2195 30  0001 C CNN
F 1 "PWR_FLAG" H 2150 2280 30  0000 C CNN
F 2 "" H 2150 2100 60  0000 C CNN
F 3 "" H 2150 2100 60  0000 C CNN
	1    2150 2100
	-1   0    0    1   
$EndComp
Wire Wire Line
	2150 2100 2150 2000
Wire Wire Line
	2150 3000 5050 3000
Wire Wire Line
	4800 3000 4800 2950
Wire Wire Line
	5050 3000 5050 2950
Connection ~ 4800 3000
Connection ~ 2450 3000
Text GLabel 2150 3000 0    30   Input ~ 0
GND_1
$Comp
L HEADER_4 J2
U 1 1 51AA0633
P 1150 3650
F 0 "J2" H 1200 3900 60  0000 C CNN
F 1 "HEADER_4" V 1300 3650 28  0001 C CNN
F 2 "" H 1150 3650 60  0001 C CNN
F 3 "" H 1150 3650 60  0001 C CNN
F 4 "endstop" V 1200 3650 39  0000 C CNN "Explanation"
	1    1150 3650
	-1   0    0    1   
$EndComp
Text GLabel 1500 3800 2    30   Input ~ 0
Signal2
$Comp
L +5V #PWR03
U 1 1 51AA0640
P 1350 3600
F 0 "#PWR03" H 1350 3690 20  0001 C CNN
F 1 "+5V" H 1350 3690 30  0000 C CNN
F 2 "" H 1350 3600 60  0000 C CNN
F 3 "" H 1350 3600 60  0000 C CNN
	1    1350 3600
	-1   0    0    -1  
$EndComp
$Comp
L OPTO-TRANSISTOR4 U2
U 1 1 51AA0646
P 3100 4200
F 0 "U2" H 3300 4450 60  0000 C CNN
F 1 "TCST1103/2103" H 3100 3950 39  0000 C CNN
F 2 "" H 3100 4200 60  0000 C CNN
F 3 "" H 3100 4200 60  0000 C CNN
	1    3100 4200
	1    0    0    -1  
$EndComp
$Comp
L R RL_diode2
U 1 1 51AA064C
P 2450 3750
F 0 "RL_diode2" V 2530 3750 50  0000 C CNN
F 1 "68" V 2450 3750 50  0000 C CNN
F 2 "" H 2450 3750 60  0001 C CNN
F 3 "" H 2450 3750 60  0001 C CNN
	1    2450 3750
	-1   0    0    1   
$EndComp
$Comp
L R Rp_rcv2
U 1 1 51AA0652
P 3700 3750
F 0 "Rp_rcv2" V 3780 3750 50  0000 C CNN
F 1 "1k5" V 3700 3750 50  0000 C CNN
F 2 "" H 3700 3750 60  0001 C CNN
F 3 "" H 3700 3750 60  0001 C CNN
	1    3700 3750
	1    0    0    -1  
$EndComp
Text GLabel 3800 4050 2    30   Input ~ 0
Signal2
$Comp
L MOS_N Q2
U 1 1 51AA0659
P 4700 4250
F 0 "Q2" H 4710 4420 60  0000 R CNN
F 1 "MOS_N" H 4710 4100 60  0000 R CNN
F 2 "~" H 4700 4250 60  0000 C CNN
F 3 "~" H 4700 4250 60  0000 C CNN
	1    4700 4250
	1    0    0    -1  
$EndComp
Text GLabel 4450 4250 0    30   Input ~ 0
Signal2
$Comp
L R R2
U 1 1 51AA0660
P 5050 3750
F 0 "R2" V 5130 3750 50  0000 C CNN
F 1 "100" V 5050 3750 50  0000 C CNN
F 2 "" H 5050 3750 60  0001 C CNN
F 3 "" H 5050 3750 60  0001 C CNN
	1    5050 3750
	-1   0    0    1   
$EndComp
$Comp
L LED D2
U 1 1 51AA0667
P 5050 4250
F 0 "D2" H 5050 4350 50  0000 C CNN
F 1 "green" H 5050 4150 50  0000 C CNN
F 2 "" H 5050 4250 60  0001 C CNN
F 3 "" H 5050 4250 60  0001 C CNN
F 4 "indicator" H 5050 4400 39  0001 C CNN "Explanation"
	1    5050 4250
	0    1    1    0   
$EndComp
Wire Wire Line
	2450 4050 2450 4000
Wire Wire Line
	3700 4000 3700 4050
Wire Wire Line
	2450 4350 2450 4500
Wire Wire Line
	3700 4050 3800 4050
Wire Wire Line
	4450 4250 4500 4250
Wire Wire Line
	4800 4050 5050 4050
Wire Wire Line
	5050 4050 5050 4000
Connection ~ 5050 4050
Wire Wire Line
	1250 3700 1500 3700
Connection ~ 2450 3500
Connection ~ 3700 3500
Connection ~ 1350 3600
Wire Wire Line
	2150 3500 5050 3500
Wire Wire Line
	1500 3800 1250 3800
Wire Wire Line
	1350 3600 1250 3600
Text GLabel 1500 3500 2    30   Input ~ 0
3V3_2
Text GLabel 1500 3700 2    30   Input ~ 0
GND_2
Wire Wire Line
	1250 3500 1500 3500
Text GLabel 2150 3500 0    30   Input ~ 0
3V3_2
$Comp
L PWR_FLAG #FLG04
U 1 1 51AA0682
P 2150 3600
F 0 "#FLG04" H 2150 3695 30  0001 C CNN
F 1 "PWR_FLAG" H 2150 3780 30  0000 C CNN
F 2 "" H 2150 3600 60  0000 C CNN
F 3 "" H 2150 3600 60  0000 C CNN
	1    2150 3600
	-1   0    0    1   
$EndComp
Wire Wire Line
	2150 3600 2150 3500
Wire Wire Line
	2150 4500 5050 4500
Wire Wire Line
	4800 4500 4800 4450
Wire Wire Line
	5050 4500 5050 4450
Connection ~ 4800 4500
Connection ~ 2450 4500
Text GLabel 2150 4500 0    30   Input ~ 0
GND_2
Wire Wire Line
	3700 2850 3700 3000
Connection ~ 3700 3000
Wire Wire Line
	3700 4350 3700 4500
Connection ~ 3700 4500
$Comp
L HEADER_4 J3
U 1 1 51AA08E9
P 1150 5150
F 0 "J3" H 1200 5400 60  0000 C CNN
F 1 "HEADER_4" V 1300 5150 28  0001 C CNN
F 2 "" H 1150 5150 60  0001 C CNN
F 3 "" H 1150 5150 60  0001 C CNN
F 4 "endstop" V 1200 5150 39  0000 C CNN "Explanation"
	1    1150 5150
	-1   0    0    1   
$EndComp
Text GLabel 1500 5300 2    30   Input ~ 0
Signal3
$Comp
L +5V #PWR05
U 1 1 51AA08F0
P 1350 5100
F 0 "#PWR05" H 1350 5190 20  0001 C CNN
F 1 "+5V" H 1350 5190 30  0000 C CNN
F 2 "" H 1350 5100 60  0000 C CNN
F 3 "" H 1350 5100 60  0000 C CNN
	1    1350 5100
	-1   0    0    -1  
$EndComp
$Comp
L OPTO-TRANSISTOR4 U3
U 1 1 51AA08F6
P 3100 5700
F 0 "U3" H 3300 5950 60  0000 C CNN
F 1 "TCST1103/2103" H 3100 5450 39  0000 C CNN
F 2 "" H 3100 5700 60  0000 C CNN
F 3 "" H 3100 5700 60  0000 C CNN
	1    3100 5700
	1    0    0    -1  
$EndComp
$Comp
L R RL_diode3
U 1 1 51AA08FC
P 2450 5250
F 0 "RL_diode3" V 2530 5250 50  0000 C CNN
F 1 "68" V 2450 5250 50  0000 C CNN
F 2 "" H 2450 5250 60  0001 C CNN
F 3 "" H 2450 5250 60  0001 C CNN
	1    2450 5250
	-1   0    0    1   
$EndComp
$Comp
L R Rp_rcv3
U 1 1 51AA0902
P 3700 5250
F 0 "Rp_rcv3" V 3780 5250 50  0000 C CNN
F 1 "1k5" V 3700 5250 50  0000 C CNN
F 2 "" H 3700 5250 60  0001 C CNN
F 3 "" H 3700 5250 60  0001 C CNN
	1    3700 5250
	1    0    0    -1  
$EndComp
Text GLabel 3800 5550 2    30   Input ~ 0
Signal3
$Comp
L MOS_N Q3
U 1 1 51AA0909
P 4700 5750
F 0 "Q3" H 4710 5920 60  0000 R CNN
F 1 "MOS_N" H 4710 5600 60  0000 R CNN
F 2 "~" H 4700 5750 60  0000 C CNN
F 3 "~" H 4700 5750 60  0000 C CNN
	1    4700 5750
	1    0    0    -1  
$EndComp
Text GLabel 4450 5750 0    30   Input ~ 0
Signal3
$Comp
L R R3
U 1 1 51AA0910
P 5050 5250
F 0 "R3" V 5130 5250 50  0000 C CNN
F 1 "100" V 5050 5250 50  0000 C CNN
F 2 "" H 5050 5250 60  0001 C CNN
F 3 "" H 5050 5250 60  0001 C CNN
	1    5050 5250
	-1   0    0    1   
$EndComp
$Comp
L LED D3
U 1 1 51AA0917
P 5050 5750
F 0 "D3" H 5050 5850 50  0000 C CNN
F 1 "green" H 5050 5650 50  0000 C CNN
F 2 "" H 5050 5750 60  0001 C CNN
F 3 "" H 5050 5750 60  0001 C CNN
F 4 "indicator" H 5050 5900 39  0001 C CNN "Explanation"
	1    5050 5750
	0    1    1    0   
$EndComp
Wire Wire Line
	2450 5550 2450 5500
Wire Wire Line
	3700 5500 3700 5550
Wire Wire Line
	2450 5850 2450 6000
Wire Wire Line
	3700 5550 3800 5550
Wire Wire Line
	4450 5750 4500 5750
Wire Wire Line
	4800 5550 5050 5550
Wire Wire Line
	5050 5550 5050 5500
Connection ~ 5050 5550
Wire Wire Line
	1250 5200 1500 5200
Connection ~ 2450 5000
Connection ~ 3700 5000
Connection ~ 1350 5100
Wire Wire Line
	2150 5000 5050 5000
Wire Wire Line
	1500 5300 1250 5300
Wire Wire Line
	1350 5100 1250 5100
Text GLabel 1500 5000 2    30   Input ~ 0
3V3_3
Text GLabel 1500 5200 2    30   Input ~ 0
GND_3
Wire Wire Line
	1250 5000 1500 5000
Text GLabel 2150 5000 0    30   Input ~ 0
3V3_3
$Comp
L PWR_FLAG #FLG06
U 1 1 51AA0930
P 2150 5100
F 0 "#FLG06" H 2150 5195 30  0001 C CNN
F 1 "PWR_FLAG" H 2150 5280 30  0000 C CNN
F 2 "" H 2150 5100 60  0000 C CNN
F 3 "" H 2150 5100 60  0000 C CNN
	1    2150 5100
	-1   0    0    1   
$EndComp
Wire Wire Line
	2150 5100 2150 5000
Wire Wire Line
	2150 6000 5050 6000
Wire Wire Line
	4800 6000 4800 5950
Wire Wire Line
	5050 6000 5050 5950
Connection ~ 4800 6000
Connection ~ 2450 6000
Text GLabel 2150 6000 0    30   Input ~ 0
GND_3
Wire Wire Line
	3700 5850 3700 6000
Connection ~ 3700 6000
$EndSCHEMATC
